!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.flipper=t():e.flipper=t()}(this,function(){return function(e){function t(l){if(n[l])return n[l].exports;var s=n[l]={i:l,l:!1,exports:{}};return e[l].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return e=e||{},t=t||{},i(e.flipperClass||t.main||"flipper",!e.openButtons&&!e.closeButtons),t&&(g.classes=Object.assign(g.classes,e.classes)),"function"==typeof e?g.defaultsFn=e:g.defaults=Object.assign(g.defaults,e),b?b.removeAttribute("class"):(b=document.createElement("div"),document.body.appendChild(b)),b.addEventListener("click",function(e){e.cancelBubble=!0,e.stopPropagation()}),b.classList.add(g.classes.modals),g}function i(e,t){return e=e||"flipper",g.classes={main:e,inner:e+"__container",modal:e+"__container--modal",modals:e+"__modals",modalsActive:e+"__modals--active",front:e+"__front",back:e+"__back",close:e+"__close",flipped:e+"--flipped"},t&&(g.defaults.openButtons="."+g.classes.front,g.defaults.closeButtons="."+g.classes.close),g.classes}function o(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelectorAll(e)),e instanceof HTMLElement&&(e=[e]),!e.length)return console.error("No flippers were found.",e,t),!1;if(1===e.length)return r(e[0],t);var n=[];return Object.keys(e).forEach(function(l,s){n.push(r(e[s],t))}),n}function r(e,t){var n,l=Object.assign({$element:e},g.defaults);return"function"==typeof t&&(t=t(l),Object.keys(t).forEach(function(e){void 0!==t[e]&&null!==t[e]||delete t[e]})),t&&(l=Object.assign(l,t)),"function"==typeof g.defaultsFn&&(n=g.defaultsFn(l),Object.keys(n).forEach(function(e){void 0!==n[e]&&null!==n[e]||delete n[e]}),l=t?Object.assign(l,t,n,t):Object.assign(l,n)),l.$element&&l.$element instanceof HTMLElement?(void 0===l.id&&(l.id="flipper__"+_,_+=1),g.all[l.id]&&(l.id=l.id+"__"+_,_+=1),a(l),c(l),d(l),l.isOpen=!1,g.all[l.id]=l,l):(console.error("Flipper was not created because no element was found: ",l),!1)}function a(e){if(e.$front=e.$element.querySelector("."+g.classes.front)||e.$element.children[0],e.$back=e.$element.querySelector("."+g.classes.back)||e.$element.children[1],e.$inner=e.$element.querySelector("."+g.classes.inner)||document.createElement("div"),e.$element.classList.add(g.classes.main),e.$element.classList.add(g.classes.main+"--"+e.type),e.$inner.classList.add(g.classes.inner),e.$front.classList.add(g.classes.front),e.$back.classList.add(g.classes.back),"modal"===e.type&&e.$inner.classList.add(g.classes.modal),e.innerClass&&e.$inner.classList.add(e.innerClass),!e.$element.querySelector("."+g.classes.inner)){for(;0<e.$element.children.length;)e.$inner.appendChild(e.$element.children[0]);e.$element.appendChild(e.$inner)}return e.$element.dataset.flipperId=e.id,e.$inner.dataset.flipperId=e.id,e}function c(e){return e.open=function(){p(e.id)},e.openFromChild=function(t){(t.target.matches(e.openButtons)||t.target.closest(e.openButtons))&&e.open()},e.close=function(){u(e.id)},e.closeFromChild=function(t){(t.target.matches(e.closeButtons)||t.target.closest(e.closeButtons))&&e.close()},e.toggle=function(){f(e.id)},e.destroy=function(){m(e.id)},e.stopPropagation=function(e){e.cancelBubble=!0,e.stopPropagation()},e}function d(e){e.openButtons&&e.$inner.addEventListener("click",e.openFromChild),e.closeButtons&&e.$inner.addEventListener("click",e.closeFromChild)}function p(e){var t=g.all[e];if(!t)return!1;if(t.isOpen=!0,t.addDimensions&&(t.$element.style.width=t.$element.offsetWidth+"px",t.$element.style.height=t.$element.offsetHeight+"px",t.$element.style.minHeight=t.$element.offsetHeight+"px"),t.$inner.setAttribute("data-flipper-open",!0),"modal"===t.type){g.activeFlipperModal&&g.activeFlipperModal.close(!0),g.activeFlipperModal=t;var n=t.$element.getBoundingClientRect();t.$inner.style.position="fixed",t.$inner.style.left=n.left+"px",t.$inner.style.top=n.top+"px",t.$inner.style.width=t.$element.offsetWidth+"px",t.$inner.style.height=t.$element.offsetHeight+"px",t.$inner.style.minHeight=t.$element.offsetHeight+"px",b.appendChild(t.$inner),setTimeout(function(){b.classList.add(g.classes.modalsActive),t.$inner.classList.add(g.classes.flipped),t.$element.classList.add(g.classes.flipped),document.body.addEventListener("click",t.close)},10)}else"inline"===t.type&&t.$element.classList.add(g.classes.flipped)}function u(e){!e&&g.activeFlipperModal&&"modal"===g.activeFlipperModal.type&&(e=g.activeFlipperModal.id);var t=g.all[e];if(!t)return!1;t.isOpen=!1,"modal"===t.type?(t.$inner.classList.remove(g.classes.flipped),t.$element.classList.remove(g.classes.flipped),g.activeFlipperModal=null,document.body.removeEventListener("click",t.close),setTimeout(function(){t.$element.appendChild(t.$inner),t.addDimensions&&(t.$element.style.width="",t.$element.style.height="",t.$element.style.minHeight=""),t.$inner.style.position="",t.$inner.style.left="",t.$inner.style.top="",t.$inner.style.width="",t.$inner.style.height="",t.$inner.style.minHeight="",t.$inner.removeAttribute("data-flipper-open"),g.activeFlipperModal&&"modal"===g.activeFlipperModal.type||b.classList.remove(g.classes.modalsActive)},t.animationTime+10)):"inline"===t.type&&(t.$element.classList.remove(g.classes.flipped),t.addDimensions&&(t.$element.style.width="",t.$element.style.height="",t.$element.style.minHeight=""),t.$inner.removeAttribute("data-flipper-open"))}function f(e){var t=g.all[e];return!!t&&(t.isOpen?t.close():t.open(),t)}function m(e){var t=g.all[e];if(!t)return!1;t.id===g.activeFlipperModal&&t.close(),t.openButtons&&t.$inner.removeEventListener("click",t.openFromChild),t.closeButtons&&t.$inner.removeEventListener("click",t.closeFromChild),delete g.all[e]}Object.defineProperty(t,"__esModule",{value:!0});var $=n(1),y=l($),h=n(2),v=l(h);y.default.init(),v.default.init();var b,g={create:o,open:p,close:u,toggle:f,destroy:m,all:{},init:s,defaults:{type:"inline",addDimensions:!1,animationTime:300,innerClass:"",flipperClass:"flipper",openButtons:".flipper__front",closeButtons:".flipper__close"},classes:{}},_=0;s(),t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={init:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this,n=this;if(!document.documentElement.contains(t))return null;do{if(n.matches(e))return n;n=n.parentElement}while(null!==n);return null})}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={init:function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),l=1;l<arguments.length;l++){var s=arguments[l];if(null!=s)for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},writable:!0,configurable:!0})}},e.exports=t.default}])});